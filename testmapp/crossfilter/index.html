<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Testing crossfilter</title>
  </head>
  <body>
    <div "id = diven"></div>
  </body>

  <script src="//d3js.org/d3.v4.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script>
  <script>
  var data =
    [
    { "person":0, "x":174.0, "y":-131.0, "frame":0},
    { "person":0, "x":116.0, "y":-139.0, "frame":27},
    { "person":0, "x":35.0, "y":-148.0, "frame":65},
    { "person":0, "x":-32.0, "y":-158.0, "frame":100},
    { "person":0, "x":-112.0, "y":-169.0, "frame":140},
    { "person":0, "x":-199.0, "y":-177.0, "frame":184},
    { "person":0, "x":-264.0, "y":-191.0, "frame":223},
    { "person":0, "x":-329.0, "y":-227.0, "frame":263},
    { "person":0, "x":-360.0, "y":-252.0, "frame":284},
    { "person":1, "x":183.0, "y":-153.0, "frame":0},
    { "person":1, "x":96.0, "y":-164.0, "frame":39},
    { "person":1, "x":-9.0, "y":-179.0, "frame":89},
    { "person":1, "x":-119.0, "y":-201.0, "frame":140},
    { "person":1, "x":-227.0, "y":-227.0, "frame":190},
    { "person":1, "x":-309.0, "y":-242.0, "frame":235},
    { "person":1, "x":-363.0, "y":-256.0, "frame":259},
    { "person":2, "x":185.0, "y":-174.0, "frame":0},
    { "person":2, "x":91.0, "y":-187.0, "frame":42},
    { "person":2, "x":-27.0, "y":-208.0, "frame":95},
    { "person":2, "x":-140.0, "y":-240.0, "frame":149},
    { "person":2, "x":-259.0, "y":-269.0, "frame":202},
    { "person":2, "x":-342.0, "y":-287.0, "frame":236}
  ];

  //Understanding crossfilter:

  var cross = crossfilter(data);
  d3.select("div").append("p").text("Cross.size() = data.length: " + cross.size());

  var dimPerson = cross.dimension(function(d){return d.person});
  var dimFrame = cross.dimension(function(d){return d.frame});

  var allpeople = dimFrame.filterAll().bottom(Infinity);

  for(i = 0; i < allpeople.length; i++){
    d3.select("div").append("p").text("Objects, sorted by person: Person: " + allpeople[i].person + " X: " + allpeople[i].x + " Y: " + allpeople[i].y + " Frame: " + allpeople[i].frame);
  }



  </script>
</html>
